%%%%%
%%
%% This file sets up the Abil datatype and creates Abil macros.  These
%% are for abilities that characters may have.
%%
%%%%%

\DECLARESUBTYPE{Abil}{Element}
\PRESETS{Abil}{
  \F\MYtext	%% text of ability, read by user
  \F\MYeffect	%% effect text of ability, read by recipient(s)
  }


%%%%%
%% \ability{<name>}{<text>}{<effect>}
%%
%% \ability is a wrapper around \INSTANCE, useful for 1-shot abilities,
%% etc.
\newinstance{Abil}{\ability[3]}{
  \s\MYname{#1}\s\MYtext{#2}\s\MYeffect{#3}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aTest}{
  \s\MYname	{Test Ability}
  \s\MYtext	{You are a test.}
  \s\MYeffect	{This is a Test.}
  }

\NEW{Abil}{\aSpecial}{
  \s\MYname	{Special Powers}
  \s\MYtext	{You have special powers, as detailed in your \gTest{}
		greensheet.}
  \s\MYeffect	{I have special powers!}
  \s\MYgreens	{\gTest{}}
  \suite
  }

\NEW{Abil}{\aFiremansCarry}{
  \s\MYname	{Fireman's Carry}
  \s\MYtext	{You can carry a body as if it were two hands bulky.}
  \s\MYeffect	{I can carry this body well.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aDetectSavedState}{
  \s\MYname	{Use Gieger Counter}
  \s\MYtext	{You can use your Gieger Counter to detect if someone has been around radiation for the last few months.  If someone doesn't have a $\beta$ score, they are clean.  If they have a $\beta$ score of 1, they have been in the same residense as a radioactive item.  If they have a $\beta$ score of 2, they have been in close contact with a radioactive item.}
  \s\MYeffect	{Tell me your $\beta$ score.} % TODO: add beta score=2 to child and beta score=1 to child's mother
  }
        


  
%% Basic DarkWater-style Martial Attack abilities


%% Everyone has these 3
\NEW{Abil}{\aAssist}{
  \s\MYname	{Assist}
  \s\MYtext	{You can assist someone else's attack.  You must be
		within ZoC of both the attacker and target.  Within two
		seconds of an attack, direct this at the attacker,
		saying ``\MYname'' and your CR.}
  \s\MYeffect	{I assist your attack.}
  }

\NEW{Abil}{\aKnockOut}{
  \s\MYname	{Knock Out}
  \s\MYtext	{You can knock someone out as an attack.  This requires
		a {\bf blunt} weapon.  Say ``\MYname'' and your CR.}
  \s\MYeffect	{I knock you out.}
  }

\NEW{Abil}{\aWound}{
  \s\MYname	{Wound}
  \s\MYtext	{You can wound someone as an attack.  This requires an
		{\bf edged} weapon, such as a knife.  Say ``\MYname'' and
		your CR.}
  \s\MYeffect	{I wound you.}
  }


%% the \basecombat macro can be prepended to the Char abils list
%% (in char-LIST.tex)
\def\basecombat{\aKnockOut{}\aWound{}\aAssist{}}


%% only some people have these
\NEW{Abil}{\aDisarm}{
  \s\MYname	{Disarm}
  \s\MYtext	{You can disarm one item from someone as an attack.  Say
		``\MYname'' and your CR.  Point at the item you want to
		disarm.  If the attack works, they must drop that item.}
  \s\MYeffect	{I disarm that item.}
  }

\NEW{Abil}{\aRestrain}{
  \s\MYname	{Restrain}
  \s\MYtext	{You can restrain someone as an attack.  Say ``\MYname''
		and your CR.  You may freely drag, attack, or (if you have
		a weapon) killing-blow them.  To do anything else, or if
		your health state changes, incant ``release'' and let them
		go.}
  \s\MYeffect	{I restrain you.  You are restrained until I incant
		``release.''}
  }

\NEW{Abil}{\aThrow}{
  \s\MYname	{Throw}
  \s\MYtext	{You can throw someone as an attack.  Say ``\MYname'' and
		your CR.  Point in the direction you want to throw them.}
  \s\MYeffect	{I throw you.  Go in the direction I point ten full steps
		or until you hit a wall or similar.}
  }
  
  \NEW{Abil}{\aPickPocket}{
  \s\MYname	{Pick Pocket}
  \s\MYtext {You can pick pockets.  You have a sheet of {\bf stickers}. If you can 
  place a sticker undetected on the person you want to steal from, find a GM.  
  You can steal one random item or attempt to steal one specific item. For a specific 
  item, give the GM a description of the item you want to steal and the GM will 
  determine if your grab is successful and if it is, take the item from your victim 
  and give it to you.  If they do not have that item, you get nothing. For a random 
  item, tell the GM you want to steal a random item and the GM will take one 
  item from your victim and give it to you. You may also use this ability to place 
  an item in someone's pocket.  In this case, give the item you want to place to 
  a GM. If you are caught trying to place the sticker, you must tell your victim that 
  they caught you attempting to pickpocket them. {\bf NOTE:} you may not 
  pickpocket Bulky items}
  \s\MYeffect	{I can pick pockets.}
  }
  
  \NEW{Abil}{\aPuppy}{
  \s\MYname	{Puppy-Dog Eyes}
  \s\MYtext {If you are in the 1 ZOC and line-of sight of an adult, you may use this ability on them. You may ask them for an item, and they must give you an item (bulky or not) of their choice. You can only use this once on any one adult.}
  \s\MYeffect	{I'm giving you puppy-dog eyes.}
}

\NEW{Abil}{\aRekey}{
  \s\MYname	{Electronic lockpicking}
  \s\MYtext {You can lockpick card-reader protected doors like the hotel guest bedrooms. If you would like to break into a hotel room that you do not have a card key for, you may use this ability to gain entrance to the room. To use this ability, fiddle with the door for two minutes until you manage to trick the card reader into accepting your card. This is an interruptable action. Note: This ability does not work on {\bf High Security Doors}.}
  \s\MYeffect	{I can break into the guest rooms.}
} %%%Change this to a hack mechanic (a la Persephone's gift)

\NEW{Abil}{\aVirusLevel}{
  \s\MYname	{Assess mind-state corruption}
  \s\MYtext {If you spend 1 minute interacting with someone, you may use this ability on them to observe their current and maximum $\Omega$ score.}
  \s\MYeffect	{I built this system, and I know how it works.}
}

\NEW{Abil}{\aDebug}{
  \s\MYname	{Debug}
  \s\MYtext {You may return someone to their maximum $\Omega$ score, but you must possess and destroy a Trojan dewormer to do so. You can also pick up Trojan dewormers.}
  \s\MYeffect {Bug-fixing. My favorite thing.}
}

\NEW{Abil}{\aCollectBlood}{
  \s\MYname	{Collect blood sample}
  \s\MYtext {f you spend 1 minute with a syringe item, a vial item, and a willing or helpless character, take a blank item sheet and write ``X's blood'' on it.}
  \s\MYeffect	{Field xenobiology is my specialty.}
}

\NEW{Abil}{\aMentalDegradation}{
  \s\MYname	{Psych Lim: Mental Degradation}
  \s\MYtext	{Thirty minutes into the game, and every thirty minutes thereafter, lower your $\Omega$ score by 1.
             Tear up this ability if you are in control of your real body.}
  \s\MYeffect	{My memory is deteriorating.}
  }

\NEW{Abil}{\aPossessAlienBody}{
  \s\MYname	{Possess an Alien Body}
  \s\MYtext {You have the ability to possess an alien body if you leave the simulation and return to your body.}
  \s\MYeffect	{I can possess an alien body in reality.}
}

\NEW{Abil}{\aMakeDreamController}{
  \s\MYname	{Make dream controller}
  \s\MYtext {You can jury-rig the existing technology to create a device that can get you out of the simulation. You require the gem within the wedding ring as a focusing device. If you put the X, the Y, and the wedding ring on a table, and spend five minutes using this ability, you can create the dream controller. When you do, destroy all three items and see a GM.}
  \s\MYeffect	{You can make a device to get out of the simulation.}
}

\NEW{Abil}{\aConsole}{
  \s\MYname	{Interact with Console}
  \s\MYtext {You have the ability to }
  \s\MYeffect	{I can possess an alien body in reality.}
}
